_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{H0SL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("cMU6")}])},cMU6:function(e,t,n){"use strict";n.r(t);var a=n("nKUr"),c=n("o0o1"),r=n.n(c),s=n("HaE+"),i=n("1OyB"),o=n("vuIU"),d=n("JX7q"),l=n("Ji7U"),u=n("md7G"),h=n("foSv"),f=n("q1tI"),p=n.n(f),m=n("uuth"),j=n("ATyU"),b=n("xEQ+"),O=n.n(b),v=n("jJ+3"),x=n("Uabf"),g=n("ky6e"),y=n("zdLN"),k=n("HKcl"),w=n("6fZt"),N=n("Q+mk"),P=n("dZBf");function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var c=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var U=function(e){Object(l.a)(n,e);var t=T(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={feedPage:0,feedPerPage:5,feedEnded:!1,keepInTouch:[],feed:{loading:!1,error:!1,data:[]}},a.fetchPosts=a.fetchPosts.bind(Object(d.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0),this.fetchPosts(),this.fetchKeepInTouch();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPosts",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.c)(this.state.feedPage,this.state.feedPerPage);case 3:(t=e.sent).loading||t.error||(t.data&&0!==t.data.length?(n=(n=t.data.map((function(e){return e}))).sort((function(){return Math.random()-.5})),this.setState((function(e){return{feed:{loading:t.loading,error:t.error,data:e.feed.data.concat(n)},feedPage:e.feedPage+1}}))):this.setState({feedEnded:!0})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchKeepInTouch",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.g)(4,["1"]);case 3:t=e.sent,this.setState((function(){return{keepInTouch:t}})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(a.jsx)(v.a,{});this.state.feed.data&&Array.isArray(this.state.feed.data)&&this.state.feed.data.length>0&&(t=Object(a.jsx)(a.Fragment,{children:this.state.feed.data.map((function(t,n){return Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)(w.a,{opPhoto:t.User?t.User.photo:t.Company.logo,opName:t.User?t.User.name:t.Company.name,opSubtitle:t.User?t.User.headline:null,opLink:t.User?"/profile/".concat(t.User.username,"/details"):"/company/".concat(t.Company.nameslug,"/home"),postTime:t.time,postBody:t.body,postImage:t.image,postVimeo:t.video,postLikes:t.likes,postComments:t.Comments}),n===e.state.feed.data.length-1&&!e.state.feedEnded&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(v.a,{}),Object(a.jsx)(m.a,{onEnter:function(){return e.state.feedEnded?null:e.fetchPosts()}})]})]},t.id)}))}));var n=Object(a.jsx)(v.a,{});return this.state.keepInTouch&&Array.isArray(this.state.keepInTouch)&&this.state.keepInTouch.length>0&&(n=Object(a.jsx)(a.Fragment,{children:this.state.keepInTouch.map((function(t,n){return Object(a.jsx)("div",{className:"".concat(n+1===e.state.keepInTouch.length?"":"pb-3"),children:Object(a.jsx)(k.a,{image:t.photo,imageSize:50,title:t.name,subtitle:t.headline,link:"/profile/".concat(t.username,"/details"),imageOnTop:!0})},t.id)}))})),Object(a.jsx)(j.a.div,{className:"w-100",variants:P.a,initial:"initial",animate:"animate",exit:"exit",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("main",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-6 pt-4 order-md-1 order-sm-1 d-none d-sm-block",children:Object(a.jsx)("div",{className:"sticky-aside-content",children:Object(a.jsx)(O.a,{topOffset:-20,scrollElement:".stickyArea",children:Object(a.jsx)(x.a,{simple:!0})})})}),Object(a.jsxs)("div",{className:"col-lg-6 col-md-9 py-4 order-md-2 order-sm-3",children:[Object(a.jsx)("div",{className:"mb-4",children:Object(a.jsx)(g.a,{})}),t]}),Object(a.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 pt-4 order-md-3 order-sm-2 d-none d-lg-block",children:Object(a.jsx)("div",{className:"sticky-aside-content",children:Object(a.jsx)(O.a,{topOffset:-20,scrollElement:".stickyArea",children:Object(a.jsx)(y.a,{title:"Keep in touch",children:Object(a.jsx)("div",{className:"w-100",children:n})})})})})]})})})}}]),n}(p.a.Component);t.default=U}},[["H0SL",0,2,1,3,5,4,6,7,8,9,10,11,14]]]);